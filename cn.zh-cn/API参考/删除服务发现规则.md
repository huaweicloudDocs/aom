# 删除服务发现规则<a name="ZH-CN_TOPIC_0135040579"></a>

## 功能介绍<a name="section2044617504327"></a>

该接口用于删除服务发现规则。

## URI<a name="section15265399333"></a>

DELETE /v1/\{project\_id\}/inv/servicediscoveryrules?appRulesIds=\{appRulesIds\}

## 请求消息<a name="section19528203518334"></a>

请求参数如[表1](#table655713558390)所示。

**表 1**  请求参数

<a name="table655713558390"></a>
<table><thead align="left"><tr id="row85572055203918"><th class="cellrowborder" valign="top" width="20%" id="mcps1.2.6.1.1"><p id="p678543114402"><a name="p678543114402"></a><a name="p678543114402"></a>参数</p>
</th>
<th class="cellrowborder" valign="top" width="20%" id="mcps1.2.6.1.2"><p id="p47855311409"><a name="p47855311409"></a><a name="p47855311409"></a>是否必选</p>
</th>
<th class="cellrowborder" valign="top" width="20%" id="mcps1.2.6.1.3"><p id="p18785163115405"><a name="p18785163115405"></a><a name="p18785163115405"></a>参数类型</p>
</th>
<th class="cellrowborder" valign="top" width="20%" id="mcps1.2.6.1.4"><p id="p15785531114011"><a name="p15785531114011"></a><a name="p15785531114011"></a>取值范围</p>
</th>
<th class="cellrowborder" valign="top" width="20%" id="mcps1.2.6.1.5"><p id="p1978613311408"><a name="p1978613311408"></a><a name="p1978613311408"></a>描述</p>
</th>
</tr>
</thead>
<tbody><tr id="row655715514398"><td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.6.1.1 "><p id="p478733184017"><a name="p478733184017"></a><a name="p478733184017"></a>project_id</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.6.1.2 "><p id="p13787331124010"><a name="p13787331124010"></a><a name="p13787331124010"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.6.1.3 "><p id="p13788531144014"><a name="p13788531144014"></a><a name="p13788531144014"></a>string</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.6.1.4 "><p id="p15788153113405"><a name="p15788153113405"></a><a name="p15788153113405"></a>-</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.6.1.5 "><p id="p3788183154017"><a name="p3788183154017"></a><a name="p3788183154017"></a>租户从IAM申请到的projectid，一般为32位字符串。</p>
</td>
</tr>
<tr id="row1855875512395"><td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.6.1.1 "><p id="p078893114019"><a name="p078893114019"></a><a name="p078893114019"></a>appRulesIds</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.6.1.2 "><p id="p14788131194011"><a name="p14788131194011"></a><a name="p14788131194011"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.6.1.3 "><p id="p17788731164017"><a name="p17788731164017"></a><a name="p17788731164017"></a>string</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.6.1.4 "><p id="p478811314405"><a name="p478811314405"></a><a name="p478811314405"></a>-</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.6.1.5 "><p id="p178833124018"><a name="p178833124018"></a><a name="p178833124018"></a>发现规则ID，传多个时以逗号分隔。</p>
</td>
</tr>
</tbody>
</table>

**Header说明**

请求消息头（Header）如[表2](#table1564812413416)所示。

**表 2**  Header说明

<a name="table1564812413416"></a>
<table><thead align="left"><tr id="row16649224104110"><th class="cellrowborder" valign="top" width="33.33333333333333%" id="mcps1.2.4.1.1"><p id="p462815259448"><a name="p462815259448"></a><a name="p462815259448"></a>名称</p>
</th>
<th class="cellrowborder" valign="top" width="33.33333333333333%" id="mcps1.2.4.1.2"><p id="p106281259446"><a name="p106281259446"></a><a name="p106281259446"></a>是否必选</p>
</th>
<th class="cellrowborder" valign="top" width="33.33333333333333%" id="mcps1.2.4.1.3"><p id="p662862534415"><a name="p662862534415"></a><a name="p662862534415"></a>说明</p>
</th>
</tr>
</thead>
<tbody><tr id="row12649142464110"><td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.1 "><p id="p1162815254448"><a name="p1162815254448"></a><a name="p1162815254448"></a>X-Auth-Token</p>
</td>
<td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.2 "><p id="p7628182514444"><a name="p7628182514444"></a><a name="p7628182514444"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.3 "><p id="p16281525184412"><a name="p16281525184412"></a><a name="p16281525184412"></a>从IAM服务获取的用户Token。</p>
</td>
</tr>
<tr id="row0649122464116"><td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.1 "><p id="p5628192510447"><a name="p5628192510447"></a><a name="p5628192510447"></a>Content-Type</p>
</td>
<td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.2 "><p id="p962812534416"><a name="p962812534416"></a><a name="p962812534416"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.3 "><p id="p19628925184412"><a name="p19628925184412"></a><a name="p19628925184412"></a>指定类型为application/json。</p>
</td>
</tr>
</tbody>
</table>

**请求示例**

```
/v1/{project_id}/inv/servicediscoveryrules?appRulesIds=b788349e-62b2-3c7a-b597-02c611d59801
```

## 响应消息<a name="section3672155416332"></a>

**响应参数**

响应参数如[表3](#table13480541104719)所示。

**表 3**  响应参数

<a name="table13480541104719"></a>
<table><thead align="left"><tr id="row5480164164715"><th class="cellrowborder" valign="top" width="33.33333333333333%" id="mcps1.2.4.1.1"><p id="p234519594471"><a name="p234519594471"></a><a name="p234519594471"></a>参数名称</p>
</th>
<th class="cellrowborder" valign="top" width="33.33333333333333%" id="mcps1.2.4.1.2"><p id="p434519591475"><a name="p434519591475"></a><a name="p434519591475"></a>类型</p>
</th>
<th class="cellrowborder" valign="top" width="33.33333333333333%" id="mcps1.2.4.1.3"><p id="p113458597475"><a name="p113458597475"></a><a name="p113458597475"></a>描述</p>
</th>
</tr>
</thead>
<tbody><tr id="row44802415478"><td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.1 "><p id="p10345115916473"><a name="p10345115916473"></a><a name="p10345115916473"></a>errorCode</p>
</td>
<td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.2 "><p id="p1346195944713"><a name="p1346195944713"></a><a name="p1346195944713"></a>string</p>
</td>
<td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.3 "><p id="p434619593470"><a name="p434619593470"></a><a name="p434619593470"></a>响应码。</p>
</td>
</tr>
<tr id="row15480104124715"><td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.1 "><p id="p13346759174715"><a name="p13346759174715"></a><a name="p13346759174715"></a>errorMessage</p>
</td>
<td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.2 "><p id="p173471659154716"><a name="p173471659154716"></a><a name="p173471659154716"></a>string</p>
</td>
<td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.3 "><p id="p1234775913476"><a name="p1234775913476"></a><a name="p1234775913476"></a>响应信息描述。</p>
</td>
</tr>
</tbody>
</table>

**响应示例**

```
{  
 "errorCode": "SVCSTG.INV.2000000", 
 "errorMessage": null
}
```

## 状态码<a name="section12441011153415"></a>

-   正常

    状态码如[表4](#table1581142134710)所示。


**表 4**  状态码

<a name="table1581142134710"></a>
<table><thead align="left"><tr id="row13810162111471"><th class="cellrowborder" valign="top" width="50%" id="mcps1.2.3.1.1"><p id="p681012124715"><a name="p681012124715"></a><a name="p681012124715"></a>状态码</p>
</th>
<th class="cellrowborder" valign="top" width="50%" id="mcps1.2.3.1.2"><p id="p7810122114479"><a name="p7810122114479"></a><a name="p7810122114479"></a>描述</p>
</th>
</tr>
</thead>
<tbody><tr id="row48111121114712"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.2.3.1.1 "><p id="p38110218476"><a name="p38110218476"></a><a name="p38110218476"></a>200</p>
</td>
<td class="cellrowborder" valign="top" width="50%" headers="mcps1.2.3.1.2 "><p id="p10811102154710"><a name="p10811102154710"></a><a name="p10811102154710"></a>查询警报成功。</p>
</td>
</tr>
</tbody>
</table>

-   异常

    状态码如[表5](#table28131021134718)所示。更多状态码请见[状态码](状态码.md)


**表 5**  状态码

<a name="table28131021134718"></a>
<table><thead align="left"><tr id="row188127212470"><th class="cellrowborder" valign="top" width="50%" id="mcps1.2.3.1.1"><p id="p08121321174720"><a name="p08121321174720"></a><a name="p08121321174720"></a>状态码</p>
</th>
<th class="cellrowborder" valign="top" width="50%" id="mcps1.2.3.1.2"><p id="p19812521124715"><a name="p19812521124715"></a><a name="p19812521124715"></a>描述</p>
</th>
</tr>
</thead>
<tbody><tr id="row2813421144712"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.2.3.1.1 "><p id="p17537181217491"><a name="p17537181217491"></a><a name="p17537181217491"></a>400 Bad Request</p>
</td>
<td class="cellrowborder" valign="top" width="50%" headers="mcps1.2.3.1.2 "><p id="p155376128493"><a name="p155376128493"></a><a name="p155376128493"></a>请求错误。</p>
</td>
</tr>
<tr id="row181372164717"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.2.3.1.1 "><p id="p6537101204915"><a name="p6537101204915"></a><a name="p6537101204915"></a>401 Unauthorized</p>
</td>
<td class="cellrowborder" valign="top" width="50%" headers="mcps1.2.3.1.2 "><p id="p10537012204913"><a name="p10537012204913"></a><a name="p10537012204913"></a>未提供认证信息，或认证信息错。</p>
</td>
</tr>
<tr id="row138131821114719"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.2.3.1.1 "><p id="p125381612184917"><a name="p125381612184917"></a><a name="p125381612184917"></a>403 Forbidden</p>
</td>
<td class="cellrowborder" valign="top" width="50%" headers="mcps1.2.3.1.2 "><p id="p3538201220492"><a name="p3538201220492"></a><a name="p3538201220492"></a>请求页面被禁止访问。</p>
</td>
</tr>
<tr id="row1581318210476"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.2.3.1.1 "><p id="p14538151220497"><a name="p14538151220497"></a><a name="p14538151220497"></a>500 Internal Server Error</p>
</td>
<td class="cellrowborder" valign="top" width="50%" headers="mcps1.2.3.1.2 "><p id="p85381712114915"><a name="p85381712114915"></a><a name="p85381712114915"></a>请求未完成，服务异常。</p>
</td>
</tr>
<tr id="row78131021184710"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.2.3.1.1 "><p id="p253811129494"><a name="p253811129494"></a><a name="p253811129494"></a>503 Service Unavailable</p>
</td>
<td class="cellrowborder" valign="top" width="50%" headers="mcps1.2.3.1.2 "><p id="p19538131217492"><a name="p19538131217492"></a><a name="p19538131217492"></a>系统暂时不可用，请求受限。</p>
</td>
</tr>
</tbody>
</table>

## 错误码<a name="section18748161733413"></a>

**表 6**  错误码

<a name="table649965164915"></a>
<table><thead align="left"><tr id="row164991151114916"><th class="cellrowborder" valign="top" width="33.33333333333333%" id="mcps1.2.4.1.1"><p id="p163793542491"><a name="p163793542491"></a><a name="p163793542491"></a>错误码</p>
</th>
<th class="cellrowborder" valign="top" width="33.33333333333333%" id="mcps1.2.4.1.2"><p id="p1037915411499"><a name="p1037915411499"></a><a name="p1037915411499"></a>错误信息</p>
</th>
<th class="cellrowborder" valign="top" width="33.33333333333333%" id="mcps1.2.4.1.3"><p id="p2037916548490"><a name="p2037916548490"></a><a name="p2037916548490"></a>处理措施</p>
</th>
</tr>
</thead>
<tbody><tr id="row149985116497"><td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.1 "><p id="p7379115410497"><a name="p7379115410497"></a><a name="p7379115410497"></a>SVCSTG.INV.4030000</p>
</td>
<td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.2 "><p id="p038005416496"><a name="p038005416496"></a><a name="p038005416496"></a>Forbidden</p>
</td>
<td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.3 "><p id="p33809549490"><a name="p33809549490"></a><a name="p33809549490"></a>切换有权限的账户。</p>
</td>
</tr>
<tr id="row1949975134915"><td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.1 "><p id="p1338016549495"><a name="p1338016549495"></a><a name="p1338016549495"></a>SVCSTG.INV.4000115</p>
</td>
<td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.2 "><p id="p2381175434913"><a name="p2381175434913"></a><a name="p2381175434913"></a>Request param is invalid</p>
</td>
<td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.3 "><p id="p1738125414499"><a name="p1738125414499"></a><a name="p1738125414499"></a>检查appRulesIds参数是否为空。</p>
</td>
</tr>
<tr id="row1949914515491"><td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.1 "><p id="p10381185464919"><a name="p10381185464919"></a><a name="p10381185464919"></a>SVCSTG.INV.5000001</p>
</td>
<td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.2 "><p id="p15381554154918"><a name="p15381554154918"></a><a name="p15381554154918"></a>Elasticsearch session is null</p>
</td>
<td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.3 "><p id="p338119545493"><a name="p338119545493"></a><a name="p338119545493"></a>请联系管理员解决。</p>
</td>
</tr>
<tr id="row204998518496"><td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.1 "><p id="p83817545492"><a name="p83817545492"></a><a name="p83817545492"></a>SVCSTG.INV.5000002</p>
</td>
<td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.2 "><p id="p14381165434920"><a name="p14381165434920"></a><a name="p14381165434920"></a>Elasticsearch execute exception</p>
</td>
<td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.3 "><p id="p638145413490"><a name="p638145413490"></a><a name="p638145413490"></a>请联系管理员解决。</p>
</td>
</tr>
<tr id="row1650015111495"><td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.1 "><p id="p7381145494910"><a name="p7381145494910"></a><a name="p7381145494910"></a>SVCSTG.INV.5000003</p>
</td>
<td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.2 "><p id="p1938165412496"><a name="p1938165412496"></a><a name="p1938165412496"></a>Call icmgr exception</p>
</td>
<td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.3 "><p id="p23816547496"><a name="p23816547496"></a><a name="p23816547496"></a>请联系管理员解决。</p>
</td>
</tr>
</tbody>
</table>

